> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [github.com](https://github.com/egametang/ET/blob/master/Book/1.2Why%20use%20.net%20core.md)

[](#why-use-c-net-core-for-server-side)Why use C# .net core for server-side?  
为什么将 C# .net 核心用于服务器端？
=====================================================================================================

Game server side from the early single service to distributed, the development is more and more complex, the stability, development efficiency requirements are more and more high. The choice of development language has also gradually changed, from C to C++ to C++ + PYTHON or C++ + LUA, and now many companies are using erlang, go, java, c#. At present, it is a blossoming situation.  
游戏服务器端从早期的单一服务到分布式，开发越来越复杂，对稳定性、开发效率的要求越来越高。开发语言的选择也逐渐发生了变化，从C到C++再到C+++PYTHON或C+++LUA，现在很多公司都在使用erlang、go、java、c#。目前，这是一个开花的局面。

But if you were to redo an online game server, without considering the compatibility with the company or what is already there, how would you choose? I thought carefully about this issue, there are probably several aspects of this need to consider: 1.  
但是，如果您要重做在线游戏服务器，而不考虑与公司的兼容性或已经存在的内容，您将如何选择？我仔细想了想这个问题，大概有几个方面需要考虑：1.

###### [](#1-stability-of-the-language-fatal)1. Stability of the language (fatal)  
1.语言的稳定性（致命）

The game server is characterized by high load and low latency. So generally the server-side process is with state, once hung means data loss, this is intolerable.  
游戏服务器的特点是高负载和低延迟。所以一般服务器端进程是带状态的，一旦挂起就意味着数据丢失，这是不能容忍的。

###### [](#2-runtime-hot-more-fatal)2. Runtime hot more (fatal)  
2.运行时更热（致命）

The game server logic is extremely complex and prone to bugs, but it can't be stopped often, so hot shifts to fix bugs are necessary. If a bug occurs, the developer can write code immediately and then fix it with a hot-change, which is not felt by online users at all.  
游戏服务器逻辑极其复杂，容易出现bug，但不能经常停止，所以热班修复bug是必要的。如果出现错误，开发人员可以立即编写代码，然后通过热更改进行修复，这完全是在线用户感觉不到的。

###### [](#3-availability-of-concurrent-process-support-5-stars-importance)3. Availability of concurrent process support (5 stars importance)  
3. 并发进程支持的可用性（5 星重要性）

With distributed server architecture, there is bound to be a lot of interaction between processes. Since it is difficult to split the game logic into multiple threads, it is generally single-threaded logic. If there is no concurrent support, a large number of callbacks are bound to be generated and code maintenance will become very difficult.  
使用分布式服务器架构，进程之间必然会有很多交互。由于很难将游戏逻辑拆分为多个线程，因此通常是单线程逻辑。如果没有并发支持，势必会产生大量的回调，代码维护将变得非常困难。

###### [](#4-compilation-speed-5-stars-in-importance)4. Compilation speed (5 stars in importance)  
4.编译速度（重要性为5星）

In c++ development, 30% of the time is wasted on compilation. If compilation is fast or not needed, it will greatly improve development efficiency.  
在 C++ 开发中，30% 的时间浪费在编译上。如果编译速度快或不需要，将大大提高开发效率。

###### [](#5-cross-platform-4-stars)5. Cross-platform (4 stars)  
5. 跨平台（4星）

Generally the game server is set up on linux. But the usual development, the use of windows will be more convenient, if cross-platform, development and testing efficiency will be greatly improved, and do not need to get a separate development machine, the local computer can meet the usual development  
通常，游戏服务器是在 Linux 上设置的。但是平时开发，使用windows会更方便，如果跨平台，开发和测试效率会大大提高，而且不需要单独找一台开发机，本地电脑就可以满足平时的开发

###### [](#6-readability-refactorability-3-stars)6. Readability, refactorability (3 stars)  
6. 可读性、重构性（3 星）

The code can be reconstructed to greatly reduce the difficulty of writing code  
代码可重构，大大降低编写代码的难度

###### [](#7-whether-the-library-is-complete-whether-the-ecology-is-perfect-3-stars)7. Whether the library is complete, whether the ecology is perfect (3 stars)  
7、图书馆是否完整，生态是否完美（3星）

Library is complete, ecological good, you need to build their own wheel is less  
库完备，生态好，需要自己建轮子少

###### [](#8-unified-language-with-the-client-3-stars)8. Unified language with the client (3 stars)  
8.与客户统一语言（3星）

Client-server shared language, the advantages are very obvious, many codes can be reused, logic programmers no longer need to distinguish between the front and back end, both ends can write, a person can complete a function, greatly reducing the time cost of communication.  
客户端-服务器共享语言，优势非常明显，很多代码可以复用，逻辑程序员不再需要区分前端和后端，两端都可以写，一个人可以完成一个功能，大大降低了沟通的时间成本。

###### [](#9-ide-support-3-stars)9. IDE support (3 stars)  
9. IDE支持（3星）

Code hints, refactoring and other support, excellent IDE can improve the development efficiency by several times.  
代码提示、重构等支持，优秀的IDE可以将开发效率提高数倍。

###### [](#10-language-performance-1-star)10. Language performance (1 star)  
10. 语言表现（1星）

Currently server performance is not too much of a problem, but good performance is better than poor performance.  
目前服务器性能不是太大的问题，但性能好总比性能差好。

<table data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><thead data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><th data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Languages&nbsp;语言</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">C#</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">C/C++&nbsp;C/C++</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Java&nbsp;爪哇岛</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Go</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Lua</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Python&nbsp;蟒</th><th align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Erlang&nbsp;Erlang</th></tr></thead><tbody data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stability&nbsp;稳定性</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Easy to hang&nbsp;易于悬挂</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Stable&nbsp;稳定</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Runtime Hot Update&nbsp;运行时热更新</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Difficult to support&nbsp;难以支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Doesn't support&nbsp;不支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Cross-Platform&nbsp;跨平台</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Difficult to Support&nbsp;难以支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Difficult to Support&nbsp;难以支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Coroutine&nbsp;协程</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Have&nbsp;有</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Need to Implement&nbsp;需要实施</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Bad Support&nbsp;不良支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Support&nbsp;支持</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Compilation speed&nbsp;编译速度</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">fast&nbsp;几乎</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">slow&nbsp;慢</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">fast&nbsp;几乎</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">fast&nbsp;几乎</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">no compilation&nbsp;无编译</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">no compilation&nbsp;无编译</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">fast&nbsp;几乎</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Readability&nbsp;可读性</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Fair&nbsp;公平</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Fair&nbsp;公平</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Game Library and Ecology<br>游戏库与生态</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Average&nbsp;平均</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Average&nbsp;平均</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Average&nbsp;平均</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Client Unified Language&nbsp;客户端统一语言</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Unity&nbsp;统一</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Unity, UE4&nbsp;统一，UE4</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Not available&nbsp;不可用</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Not available&nbsp;不可用</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Unity, UE4&nbsp;统一，UE4</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">UE4</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Not available&nbsp;不可用</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">IDE Support&nbsp;集成开发环境支持</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Average&nbsp;平均</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td></tr><tr data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781"><td data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Language performance&nbsp;语言表现</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Very good&nbsp;非常好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Good&nbsp;好</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Very poor&nbsp;很差</td><td align="center" data-immersive-translate-effect="1" data-immersive_translate_walked="599240df-cb19-4832-96f7-0a3550b98781">Poor&nbsp;穷</td></tr></tbody></table>

As you can see from the table. 1:  
从表中可以看出。1:

1.  C/C++ has poor stability, slow compilation speed, and fatal flaws  
    C/C++稳定性差，编译速度慢，缺陷致命
2.  Go does not support hot changes, does not support generics, poor reconfigurability, can not share code with the client, a fatal flaw  
    Go 不支持热改，不支持泛型，可重构性差，无法与客户端共享代码，致命缺陷
3.  poor support for Java concurrency, unable to share code with the client  
    对 Java 并发的支持不佳，无法与客户端共享代码
4.  Lua has few libraries, poor performance, poor code readability and reconfigurability, cross-platform dependence on C/C++, troublesome to handle, and poor ide support  
    Lua的库很少，性能很差，代码可读性和可重构性差，跨平台依赖C / C++，处理麻烦，IDE支持很差。
5.  Python poor performance, poor code readability and reconfigurability, unable to share code with clients, poor ide support  
    Python 性能差，代码可读性和可重构性差，无法与客户端共享代码，IDE 支持差
6.  Erlang performance is poor, functional style is not easy to get started, ide support is poor  
    Erlang性能差，功能风格不容易上手，IDE支持差
7.  C# .net core is very good in every convenience, but can't share code with UE4  
    C# .net 核心在各种便利性方面都非常好，但不能与 UE4 共享代码

Currently Unity is the hottest game engine, C# server with Unity is a perfect match, basically can not find defects.  
Unity是目前最热门的游戏引擎，C#服务器与Unity是完美匹配的，基本上找不到缺陷。